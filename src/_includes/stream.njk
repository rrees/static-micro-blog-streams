{% extends 'base.njk' %}

{% from 'macros/posts.njk' import postsList %}

{% block main %}
<h1>{{streamName}}</h1>

{{content | safe}}

<h2>Posts</h2>

{% set taggedPosts = collections[postsTag] | sortByLastModifiedDate %}

{{ postsList(taggedPosts) }}


{% if collections[postsTag] %}
<h2>All posts</h2>

<ul>
{%- for post in collections[postsTag] | reverse -%}
	<li><a href="{{post.url}}">{{ post.data.title }}</a></li>
{%- endfor -%}
</ul>
{% endif %}

{% if tags %}
<p>Tags: {{tags.join(", ")}}</p>
{% endif %}
{% endblock %}